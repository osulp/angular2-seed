<div id="data-row-wrapper" infinite-scroll
     [infiniteScrollDistance]="scrollDownDistance"
     [infiniteScrollUpDistance]="scrollUpDistance"
     [infiniteScrollThrottle]="500"
     (scrolled)="onScrollDown()"
     (scrolledUp)="onScrollUp()">
    <div class="row">
        <div class="col-xs-12 place-col">
            <div id="data-control-bar">
                <div id="share-btns">
                    <div title="Download data"><img src="assets/img/icn-download.svg" alt="download data" /></div>
                    <div title="Print a report"><img src="assets/img/icn-print.svg" alt="print" /></div>
                    <div title="Share with others on social media or with links"><img src="assets/img/icn-share.svg" alt="share" /></div>
                </div>
                <div id="map-graph-toggle" (click)="toggleResultView()">
                    <div [ngClass]="resultView === 'graph' ? 'selected' : ''">Graph View</div>
                    <div [ngClass]="resultView === 'map' ? 'selected' : ''">Map View</div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12" *ngFor="let topic of inputTopics | SelectedTopicsPipe; let idx = index">
            <div *ngIf="showTopic(topic, idx)">
                <div class="row">
                    <div class="col-xs-12">
                        <indicators-by-topic-list #indicatorList [inputIndicators]="inputIndicators" [inputTopics]="[topic]" (filteredIndicatorsFromComp)="onFilterIndicator($event)"></indicators-by-topic-list>
                        <div class="back-to-top" *ngIf="idx > 0" (click)="scrollToTop()">Back to Top</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-6 col-xs-12 data-tile-grid" *ngFor="let indicator of inputIndicators | SelectedIndicatorByTopicsPipe: topic | IndicatorScrollCountPipe: showIndicatorCount">
                        <data-tile #dataTile [indicator]="indicator.indicator" [tileType]="'graph'" [viewType]="'basic'"></data-tile>
                    </div>
                </div>                
            </div>
        </div>
        <div class="back-to-top-from-bottom" (click)="scrollToTop()">Back to Top</div>
    </div>
</div>